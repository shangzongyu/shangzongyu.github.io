<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Rust on æˆ‘çš„ä¸–ç•Œ</title><link>https://shangzongyu.github.io/tags/rust/</link><description>Recent content in Rust on æˆ‘çš„ä¸–ç•Œ</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 15 May 2022 06:23:27 +0000</lastBuildDate><atom:link href="https://shangzongyu.github.io/tags/rust/index.xml" rel="self" type="application/rss+xml"/><item><title>Rust äº¤å‰ç¼–è¯‘ macOS ä¸º Linux å’Œ Windows</title><link>https://shangzongyu.github.io/p/rust-macos-linux-windows/</link><pubDate>Sun, 15 May 2022 06:23:27 +0000</pubDate><guid>https://shangzongyu.github.io/p/rust-macos-linux-windows/</guid><description>&lt;img src="https://raw.githubusercontent.com/shangzongyu/blog-image/main/2025/piclist_20251114_2022-Rust-äº¤å‰ç¼–è¯‘macOSä¸ºLinuxå’ŒWindows.webp" alt="Featured image of post Rust äº¤å‰ç¼–è¯‘ macOS ä¸º Linux å’Œ Windows" /&gt;&lt;blockquote&gt;
&lt;p&gt;Rust æ”¯æŒäº¤å‰ç¼–è¯‘ï¼Œå¯ä»¥ macOS å¹³å°ç¼–è¯‘å‡º Linux æˆ–è€… Windows å¯è¿è¡Œçš„ç¨‹åºï¼Œæˆ–è€…åœ¨ Linux å¹³å°ç¼–è¯‘ macOS æˆ–è€… Windows å¯è¿è¡Œçš„ç¨‹åºã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ–‡ç« ä¸»è¦è®²è§£ Mac å¹³å°ç¼–è¯‘ä¸ºå…¶ä»–å¹³å°çš„äºŒè¿›åˆ¶ç¨‹åºã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æƒ³è¦å®ç°è·¨å¹³å°ç¼–è¯‘å¹¶ä¸”å¯è¿è¡Œçš„ç¨‹åºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é™æ€é“¾æ¥ï¼Œè¿™æ ·ç”Ÿæˆç¨‹åºæ‰ä¸ä¼šå› ä¸ºåŠ¨æ€é“¾æ¥åº“çš„åŸå› è¿è¡Œå¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒRust é™æ€è¿æ¥æ‰€æœ‰ Rust ä»£ç ã€‚å¦‚æœç¨‹åºä¸­ä½¿ç”¨äº†æ ‡å‡†åº“ï¼ŒRust ä¼šè¿æ¥åˆ°ç³»ç»Ÿçš„ &lt;code&gt;libc&lt;/code&gt; å®ç°ã€‚&lt;/p&gt;
&lt;h2 id="ç¯å¢ƒ"&gt;ç¯å¢ƒ
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;macOSï¼š
&lt;ul&gt;
&lt;li&gt;OSï¼š&lt;code&gt;macOS 12.3.1 21E258 x86_64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rustcï¼š&lt;code&gt;rustc 1.60.0 (7737e0b5c 2022-04-04)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rustupï¼š&lt;code&gt;rustup 1.24.3 (ce5817a94 2021-05-31)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Linuxï¼š
&lt;ul&gt;
&lt;li&gt;OSï¼š&lt;code&gt;EndeavourOS Linux x86_64&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;kernelï¼š&lt;code&gt;5.17.1-arch1-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rustcï¼š&lt;code&gt;rustc 1.60.0 (7737e0b5c 2022-04-04)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;rustupï¼š&lt;code&gt;rustup 1.24.3 (ce5817a94 2021-05-31)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦å®‰è£… Rustï¼Œè¿™ä¸ªè¿™é‡Œå°±ä¸è¦è¯´äº†ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="ç¤ºä¾‹å‡†å¤‡"&gt;ç¤ºä¾‹å‡†å¤‡
&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨ &lt;code&gt;Cargo&lt;/code&gt; æ–°å»ºäºŒè¿›åˆ¶é¡¹ç›®ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cargo new --bin hello
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ–‡ä»¶ &lt;code&gt;main.rs&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-rs" data-lang="rs"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;fn&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="fm"&gt;println!&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Hello World!&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="macos-ç¼–è¯‘ä¸º-linux-å’Œ-windows-å¯ç”¨äºŒè¿›åˆ¶ç¨‹åº"&gt;macOS ç¼–è¯‘ä¸º Linux å’Œ Windows å¯ç”¨äºŒè¿›åˆ¶ç¨‹åº
&lt;/h2&gt;&lt;h3 id="ç¼–è¯‘ä¸º-linux-å¹³å°"&gt;ç¼–è¯‘ä¸º Linux å¹³å°
&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;è¦å®ç° Linux å¹³å°å¯ä»¥è¿è¡Œçš„ç¨‹åºï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨ &lt;a class="link" href="https://musl.libc.org/" target="_blank" rel="noopener"
&gt;musl&lt;/a&gt; æ¥æ›¿ä»£ &lt;code&gt;glibc&lt;/code&gt;ï¼Œ&lt;a class="link" href="https://musl.libc.org/" target="_blank" rel="noopener"
&gt;musl&lt;/a&gt; å®ç°äº† &lt;code&gt;Linux libc&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a class="link" href="https://musl.libc.org/" target="_blank" rel="noopener"
&gt;musl&lt;/a&gt; åœ¨ macOS ä¸Šä½¿ç”¨ musl-crossï¼Œmusl-cross æ˜¯ç”¨æ¥ä¸“é—¨ç¼–è¯‘åˆ° Linux çš„å·¥å…·é“¾ï¼Œä¸‹é¢è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;brew install FiloSottile/musl-cross/musl-cross
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿˜éœ€è¦åˆ›å»º &lt;code&gt;musl-gcc&lt;/code&gt;ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;ln -s /usr/local/bin/x86_64-linux-musl-gcc /usr/local/bin/musl-gcc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ·»åŠ å¯¹åº”çš„ Targetï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;rustup target add x86_64-unknown-linux-musl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ &lt;code&gt;~/.cargo/config&lt;/code&gt; (å¦‚æœæ²¡æœ‰å¯ä»¥æ–°å»º)ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-ini" data-lang="ini"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;[target.x86_64-unknown-linux-musl]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="na"&gt;linker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;x86_64-linux-musl-gcc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;ä¹Ÿå¯åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º &lt;code&gt;.cargo/config&lt;/code&gt; æ–‡ä»¶ï¼Œåªå¯¹å½“å‰é¡¹ç›®ç”Ÿæ•ˆ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼–è¯‘ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ä½¿ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;cargo build --release --target x86_64-unknown-linux-musl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ tree -L &lt;span class="m"&gt;2&lt;/span&gt; target/x86_64-unknown-linux-musl
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;target/x86_64-unknown-linux-musl
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ CACHEDIR.TAG
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â””â”€â”€ debug
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ build
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ deps
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ examples
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ hello
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ hello.d
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â””â”€â”€ incremental
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;5&lt;/span&gt; directories, &lt;span class="m"&gt;3&lt;/span&gt; files
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ file target/x86_64-unknown-linux-musl/debug/hello
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;target/x86_64-unknown-linux-musl/debug/hello: ELF 64-bit LSB pie executable, x86-64, version &lt;span class="m"&gt;1&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;SYSV&lt;span class="o"&gt;)&lt;/span&gt;, static-pie linked, with debug_info, not stripped
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="ç¼–è¯‘ä¸º-windows-å¹³å°"&gt;ç¼–è¯‘ä¸º Windows å¹³å°
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;mingw-w64&lt;/code&gt; æ˜¯ç”¨æ¥ç¼–è¯‘åˆ° Windows çš„å·¥å…·é“¾ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;brew install mingw-w64
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥æ·»åŠ  &lt;code&gt;mingw-64&lt;/code&gt; å¯¹åº”çš„ Targetï¼Œåªéœ€è¦æ‰§è¡Œä¸€æ¬¡å°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ rustup target add x86_64-pc-windows-gnu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶ &lt;code&gt;~/.cargo/config&lt;/code&gt; (å¦‚æœæ²¡æœ‰å¯ä»¥æ–°å»º)ï¼Œè®¾ç½® Linkerï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;[&lt;/span&gt;target.x86_64-pc-windows-gnu&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;linker&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;x86_64-w64-mingw32-gcc&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nv"&gt;ar&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;x86_64-w64-mingw32-gcc-ar&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç¼–è¯‘ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# ä½¿ç”¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ cargo build --release --target x86_64-unknown-linux-musl
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ç»“æœï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ tree -L &lt;span class="m"&gt;2&lt;/span&gt; target/x86_64-pc-windows-gnu
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;target/x86_64-pc-windows-gnu
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â”œâ”€â”€ CACHEDIR.TAG
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;â””â”€â”€ debug
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ build
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ deps
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ examples
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ hello.d
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â”œâ”€â”€ hello.exe
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; â””â”€â”€ incremental
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="m"&gt;5&lt;/span&gt; directories, &lt;span class="m"&gt;3&lt;/span&gt; files
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ file target/x86_64-pc-windows-gnu/debug/hello.exe
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;target/x86_64-pc-windows-gnu/debug/hello.exe: PE32+ executable &lt;span class="o"&gt;(&lt;/span&gt;console&lt;span class="o"&gt;)&lt;/span&gt; x86-64, &lt;span class="k"&gt;for&lt;/span&gt; MS Windows
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="åœ¨-linux-ç¼–è¯‘ä¸º-macos-å’Œ-windows"&gt;åœ¨ Linux ç¼–è¯‘ä¸º macOS å’Œ Windows
&lt;/h2&gt;&lt;h3 id="ç¼–è¯‘ä¸º-macos-å¹³å°"&gt;ç¼–è¯‘ä¸º macOS å¹³å°
&lt;/h3&gt;&lt;p&gt;åœ¨ Linux ç¼–è¯‘ macOS å¹³å°ä½¿ç”¨ &lt;a class="link" href="https://github.com/tpoechtrager/osxcross" target="_blank" rel="noopener"
&gt;osxcross&lt;/a&gt;ã€‚&lt;a class="link" href="https://github.com/tpoechtrager/osxcross" target="_blank" rel="noopener"
&gt;osxcross&lt;/a&gt; å¯ä»¥åœ¨ Linux/FreeBSD/OpenBSD ä»¥åŠ Android (Termux) äº¤å‰ç¼–è¯‘ macOS å¹³å°çš„å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘çœ‹äº†ä¸‹ &lt;a class="link" href="https://github.com/tpoechtrager/osxcross" target="_blank" rel="noopener"
&gt;osxcross&lt;/a&gt; ç¼–è¯‘ä¸º macOS å¹³å°çœŸçš„è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæˆ‘å†³å®šä¸ç¼–è¯‘ä¸º macOS ç‰ˆæœ¬ï¼Œä½•å¿…ä¸ºéš¾è‡ªå·±å‘¢ï¼Œä½•å†µè‡ªå·±æœ‰ Mac ç”µè„‘å‘¢ ğŸ˜‚ã€‚&lt;/p&gt;
&lt;h3 id="ç¼–è¯‘ä¸º-windows-å¹³å°-1"&gt;ç¼–è¯‘ä¸º Windows å¹³å°
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;mingw-w64&lt;/code&gt; æ˜¯ç”¨æ¥ç¼–è¯‘åˆ° Windows çš„å·¥å…·é“¾ï¼ŒArch å¯¹åº”çš„åŒ…ä¸º &lt;a class="link" href="https://archlinux.org/packages/community/x86_64/mingw-w64-gcc/" target="_blank" rel="noopener"
&gt;mingw-w64-gcc&lt;/a&gt;ï¼Œæ¥ä¸‹æ¥è¿›è¡Œå®‰è£…ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo pacman -S mingw-w64-gcc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥å°±å®¹æ˜“äº†ï¼Œå’Œ â€œmacOS ç¼–è¯‘ä¸º Linux å’Œ Windowsâ€ ä¸€æ ·äº†ï¼Œå°±æ˜¯æ·»åŠ  Targetï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;h2 id="faq"&gt;FAQ
&lt;/h2&gt;&lt;h3 id="x86_64-unknown-freebsd-target-may-not-be-installed"&gt;&lt;code&gt;x86_64-unknown-freebsd&lt;/code&gt; target may not be installed
&lt;/h3&gt;&lt;p&gt;è‡ªå·±åœ¨ Mac å¹³å°çš„æ—¶å€™ï¼ŒæŠŠä¸Šè¿°æ‰€æœ‰çš„æ“ä½œéƒ½åšäº†ï¼Œä½†æ˜¯è¿˜æ˜¯åŒ…å¦‚ä¸‹é”™è¯¯ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;error&lt;span class="o"&gt;[&lt;/span&gt;E0463&lt;span class="o"&gt;]&lt;/span&gt;: can&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;t find crate &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="sb"&gt;`&lt;/span&gt;std&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;=&lt;/span&gt; note: the &lt;span class="sb"&gt;`&lt;/span&gt;x86_64-unknown-freebsd&lt;span class="sb"&gt;`&lt;/span&gt; target may not be &lt;span class="nv"&gt;installed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;=&lt;/span&gt; help: consider downloading the target with &lt;span class="sb"&gt;`&lt;/span&gt;rustup target add x86_64-unknown-freebsd&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;error: requires &lt;span class="sb"&gt;`&lt;/span&gt;sized&lt;span class="sb"&gt;`&lt;/span&gt; lang_item
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;é‚£ä¹ˆæ€ä¹ˆè§£å†³çš„å‘¢ï¼Œæˆ‘å‘ç°è‡ªå·±ä¹‹å‰ä½¿ç”¨ &lt;a class="link" href="https://brew.sh/" target="_blank" rel="noopener"
&gt;Homebrew&lt;/a&gt; å®‰è£…è¿‡ &lt;code&gt;rust&lt;/code&gt;ï¼Œè€Œä¸”è¿˜ä½¿ç”¨å®˜æ–¹å‘½ä»¤ &lt;code&gt;curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh&lt;/code&gt; å†æ¬¡è¿›è¡Œå®‰è£…ï¼Œå¯¼è‡´ rust å·¥å…·é“¾å¯¹ä¸ä¸Šï¼Œåªéœ€è¦åšå¦‚ä¸‹æ“ä½œå°±å¯ä»¥äº†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å…ˆå®Œå…¨å¸è½½&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ brew uninstall rust
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ rustup self uninstall
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;é‡æ–°å®‰è£…ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-sh" data-lang="sh"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ curl --proto &lt;span class="s1"&gt;&amp;#39;=https&amp;#39;&lt;/span&gt; --tlsv1.2 -sSf https://sh.rustup.rs &lt;span class="p"&gt;|&lt;/span&gt; sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="errorlinking-with-cc-failedexit-status1"&gt;errorï¼šlinking with &lt;code&gt;cc&lt;/code&gt; failedï¼šexit statusï¼š1
&lt;/h3&gt;&lt;p&gt;é…ç½® &lt;code&gt;~/.cargo/config&lt;/code&gt; æˆ–è€…åœ¨é¡¹ç›®å†… &lt;code&gt;.cargo/config&lt;/code&gt; æ–‡ä»¶å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;h2 id="æ€»ç»“"&gt;æ€»ç»“
&lt;/h2&gt;&lt;p&gt;ä»‹ç»äº†åœ¨ macOS ç¼–è¯‘ä¸º Linux/Windows ä»¥åŠ Linux å¹³å°ç¼–è¯‘ä¸º macOS/Windowsï¼Œå…¶å®å°±ä¸¤ä¸ªä¸‰ä¸ªæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ·»åŠ ç›¸åº”çš„ Target&lt;/li&gt;
&lt;li&gt;å®‰è£…å¯¹åº”çš„ Linker&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä» macOS ç¼–è¯‘å…¶ä»–çš„å¹³å°ï¼Œå…¶å®æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œä»å…¶ä»–å¹³å°ç¼–è¯‘ä¸º macOS å¹³å°å´ä¸é‚£ä¹ˆç®€å•ï¼Œæœ€ç»ˆè‡ªå·±æ”¾å¼ƒäº†ã€‚&lt;/p&gt;
&lt;h2 id="reference"&gt;Reference
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="link" href="https://rustwiki.org/zh-CN/edition-guide/rust-2018/platform-and-target-support/musl-support-for-fully-static-binaries.html#musl-%E6%94%AF%E6%8C%81%E5%AE%8C%E5%85%A8%E9%9D%99%E6%80%81%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6" target="_blank" rel="noopener"
&gt;MUSL æ”¯æŒå®Œå…¨é™æ€äºŒè¿›åˆ¶æ–‡ä»¶&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://rendered-obsolete.github.io/2019/03/19/rust_lambda.html" target="_blank" rel="noopener"
&gt;Rust on Lambda&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://www.andrew-thorburn.com/cross-compiling-a-simple-rust-web-app/" target="_blank" rel="noopener"
&gt;Cross-compiling a simple Rust web app&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://stackoverflow.com/questions/57797695/how-to-cross-compile-from-mac-to-linux-on-rust" target="_blank" rel="noopener"
&gt;How to Cross-Compile from Mac to Linux on Rust&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://doc.rust-lang.org/edition-guide/rust-2018/platform-and-target-support/musl-support-for-fully-static-binaries.html" target="_blank" rel="noopener"
&gt;MUSL support for fully static binaries&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://chr4.org/blog/2017/03/15/cross-compile-and-link-a-static-binary-on-macos-for-linux-with-cargo-and-rust/" target="_blank" rel="noopener"
&gt;Cross-compile and link a static binary on macOS for Linux with cargo and rust&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://rustrepo.com/repo/japaric-rust-cross-rust-embedded#cross-compiling-with-rustc" target="_blank" rel="noopener"
&gt;Everything you need to know about cross compiling Rust programs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://burgers.io/cross-compile-rust-from-arm-to-x86-64" target="_blank" rel="noopener"
&gt;Cross-compiling Rust from ARM to x86-64&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="link" href="https://wapl.es/rust/2019/02/17/rust-cross-compile-linux-to-macos.html" target="_blank" rel="noopener"
&gt;Cross compiling Rust from Linux to macOS&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</description></item></channel></rss>